<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>전기차 환경 영향 - 교육용 웹사이트</title>
    <meta name="description" content="전기차가 환경에 미치는 영향, 탄소 배출량 비교, 생애주기 분석 등에 대한 종합적인 정보를 제공합니다.">
    
    <!-- React 18 -->
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    
    <!-- Chart.js -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@300;400;500;700;900&display=swap" rel="stylesheet">
    
    <style>
        body {
            font-family: 'Noto Sans KR', sans-serif;
            margin: 0;
            padding: 0;
            overflow-x: hidden;
        }
        
        .container {
            max-width: 100vw;
            margin: 0 auto;
            padding: 0;
        }
        
        .hero-section {
            background: linear-gradient(135deg, #10b981 0%, #059669 50%, #047857 100%);
            min-height: 60vh;
            display: flex;
            flex-direction: column;
        }
        
        .card {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            border-radius: 1rem;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
            transition: all 0.3s ease;
        }
        
        .card:hover {
            transform: translateY(-5px);
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.15);
        }
        
        .env-card {
            background: linear-gradient(135deg, #ffffff 0%, #f8fafc 100%);
            border: 1px solid #e2e8f0;
            transition: all 0.3s ease;
        }
        
        .env-card:hover {
            border-color: #10b981;
            transform: translateY(-2px);
        }
        
        .chart-container {
            position: relative;
            height: 300px;
            width: 100%;
        }
        
        @media (max-width: 768px) {
            .hero-section {
                min-height: auto;
                padding: 2rem 0;
            }
            
            .chart-container {
                height: 250px;
            }
        }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect, useRef } = React;

        // 네비게이션 컴포넌트
        const Navigation = ({ activeSection }) => {
            const sections = [
                { id: 'home', label: '홈', icon: 'fas fa-home', href: 'main.html' },
                { id: 'technologies', label: '기술', icon: 'fas fa-cogs', href: 'technologies.html' },
                { id: 'market', label: '시장 동향', icon: 'fas fa-chart-line', href: 'market.html' },
                { id: 'environment', label: '환경 영향', icon: 'fas fa-leaf', href: 'environment.html' },
                { id: 'future', label: '미래 전망', icon: 'fas fa-rocket', href: 'future.html' }
            ];

            return (
                <nav className="bg-gray-800 shadow-lg sticky top-0 z-50">
                    <div className="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
                        <div className="flex justify-between h-16">
                            <div className="flex items-center">
                                <h1 className="text-xl font-bold text-white">전기차 현황</h1>
                            </div>
                            <div className="hidden md:flex space-x-8 items-center">
                                {sections.map((section) => (
                                    <a
                                        key={section.id}
                                        href={section.href}
                                        className={`flex items-center px-3 py-2 rounded-md text-sm font-medium transition-colors ${
                                            section.id === 'environment'
                                                ? 'bg-emerald-600 text-white'
                                                : 'text-gray-300 hover:text-white hover:bg-gray-700'
                                        }`}
                                    >
                                        <i className={`${section.icon} mr-2`}></i>
                                        {section.label}
                                    </a>
                                ))}
                            </div>
                            <div className="md:hidden flex items-center">
                                <button className="text-gray-300 hover:text-white">
                                    <i className="fas fa-bars text-xl"></i>
                                </button>
                            </div>
                        </div>
                    </div>
                </nav>
            );
        };

        // 히어로 섹션 컴포넌트
        const HeroSection = () => {
            return (
                <div className="hero-section">
                    <Navigation />
                    <div className="flex-1 flex items-center justify-center px-4 py-12">
                        <div className="max-w-6xl mx-auto text-center">
                            <div className="mb-8">
                                <h1 className="text-5xl md:text-6xl font-bold text-white mb-6">
                                    <i className="fas fa-leaf mr-4 text-green-300"></i>
                                    환경 영향
                                </h1>
                                <p className="text-xl md:text-2xl text-emerald-100 mb-8">
                                    지속 가능한 미래를 위한 전기차의 환경적 가치
                                </p>
                                <div className="flex flex-wrap justify-center gap-4 text-white">
                                    <div className="flex items-center bg-white/20 px-4 py-2 rounded-full">
                                        <i className="fas fa-smog mr-2"></i>
                                        <span>탄소 배출량</span>
                                    </div>
                                    <div className="flex items-center bg-white/20 px-4 py-2 rounded-full">
                                        <i className="fas fa-recycle mr-2"></i>
                                        <span>생애주기 분석</span>
                                    </div>
                                    <div className="flex items-center bg-white/20 px-4 py-2 rounded-full">
                                        <i className="fas fa-wind mr-2"></i>
                                        <span>대기 질</span>
                                    </div>
                                    <div className="flex items-center bg-white/20 px-4 py-2 rounded-full">
                                        <i className="fas fa-globe-americas mr-2"></i>
                                        <span>지구 온난화</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            );
        };

        // 탄소 배출량 비교 차트
        const EmissionChart = () => {
            const chartRef = useRef(null);
            const chartInstance = useRef(null);

            useEffect(() => {
                if (chartRef.current) {
                    const ctx = chartRef.current.getContext('2d');
                    
                    if (chartInstance.current) {
                        chartInstance.current.destroy();
                    }

                    chartInstance.current = new Chart(ctx, {
                        type: 'bar',
                        data: {
                            labels: ['전기차', '하이브리드', '가솔린', '디젤'],
                            datasets: [{
                                label: 'CO₂ 배출량 (g/km)',
                                data: [45, 95, 180, 155],
                                backgroundColor: [
                                    '#10b981',
                                    '#f59e0b',
                                    '#dc2626',
                                    '#6b7280'
                                ]
                            }]
                        },
                        options: {
                            responsive: true,
                            maintainAspectRatio: false,
                            plugins: {
                                title: {
                                    display: true,
                                    text: '차종별 CO₂ 배출량 비교',
                                    font: {
                                        family: 'Noto Sans KR',
                                        size: 16,
                                        weight: 'bold'
                                    }
                                },
                                legend: {
                                    display: false
                                }
                            },
                            scales: {
                                y: {
                                    beginAtZero: true,
                                    title: {
                                        display: true,
                                        text: 'CO₂ 배출량 (g/km)'
                                    }
                                }
                            }
                        }
                    });
                }

                return () => {
                    if (chartInstance.current) {
                        chartInstance.current.destroy();
                    }
                };
            }, []);

            return (
                <div className="chart-container">
                    <canvas ref={chartRef}></canvas>
                </div>
            );
        };

        // 생애주기 분석 차트
        const LifecycleChart = () => {
            const chartRef = useRef(null);
            const chartInstance = useRef(null);

            useEffect(() => {
                if (chartRef.current) {
                    const ctx = chartRef.current.getContext('2d');
                    
                    if (chartInstance.current) {
                        chartInstance.current.destroy();
                    }

                    chartInstance.current = new Chart(ctx, {
                        type: 'doughnut',
                        data: {
                            labels: ['배터리 제조', '차량 제조', '운행 단계', '폐기 단계'],
                            datasets: [{
                                data: [40, 25, 30, 5],
                                backgroundColor: [
                                    '#dc2626',
                                    '#f59e0b',
                                    '#10b981',
                                    '#6b7280'
                                ]
                            }]
                        },
                        options: {
                            responsive: true,
                            maintainAspectRatio: false,
                            plugins: {
                                title: {
                                    display: true,
                                    text: '전기차 생애주기별 환경 영향 (%)',
                                    font: {
                                        family: 'Noto Sans KR',
                                        size: 16,
                                        weight: 'bold'
                                    }
                                },
                                legend: {
                                    position: 'bottom'
                                }
                            }
                        }
                    });
                }

                return () => {
                    if (chartInstance.current) {
                        chartInstance.current.destroy();
                    }
                };
            }, []);

            return (
                <div className="chart-container">
                    <canvas ref={chartRef}></canvas>
                </div>
            );
        };

        // 환경 효과 통계
        const EnvironmentStats = () => {
            const stats = [
                {
                    icon: 'fas fa-smog',
                    value: '75%',
                    label: 'CO₂ 배출량 감소',
                    description: '내연기관 대비',
                    color: 'green'
                },
                {
                    icon: 'fas fa-wind',
                    value: '90%',
                    label: '대기오염 물질 감소',
                    description: 'NOx, PM 기준',
                    color: 'blue'
                },
                {
                    icon: 'fas fa-battery-three-quarters',
                    value: '95%',
                    label: '배터리 재활용률',
                    description: '리튬, 코발트 등',
                    color: 'purple'
                },
                {
                    icon: 'fas fa-seedling',
                    value: '1.2억 톤',
                    label: '연간 CO₂ 절감량',
                    description: '전 세계 전기차 기준',
                    color: 'emerald'
                }
            ];

            const getColorClasses = (color) => {
                const colors = {
                    green: 'bg-green-500',
                    blue: 'bg-blue-500',
                    purple: 'bg-purple-500',
                    emerald: 'bg-emerald-500'
                };
                return colors[color] || colors.green;
            };

            return (
                <div className="py-16 bg-gray-50">
                    <div className="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
                        <div className="text-center mb-12">
                            <h2 className="text-3xl font-bold text-gray-900 mb-4">환경적 효과</h2>
                            <p className="text-lg text-gray-600">전기차가 만드는 긍정적 변화</p>
                        </div>
                        <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8 mb-12">
                            {stats.map((stat, index) => (
                                <div key={index} className="env-card p-6 rounded-xl text-center">
                                    <div className={`w-16 h-16 mx-auto mb-4 rounded-full flex items-center justify-center ${getColorClasses(stat.color)} text-white`}>
                                        <i className={`${stat.icon} text-2xl`}></i>
                                    </div>
                                    <div className="text-3xl font-bold text-gray-900 mb-2">{stat.value}</div>
                                    <div className="text-gray-900 font-medium mb-1">{stat.label}</div>
                                    <div className="text-sm text-gray-500">{stat.description}</div>
                                </div>
                            ))}
                        </div>
                        <div className="grid grid-cols-1 lg:grid-cols-2 gap-8">
                            <div className="card p-8">
                                <h3 className="text-2xl font-bold text-center mb-6">차종별 배출량 비교</h3>
                                <EmissionChart />
                            </div>
                            <div className="card p-8">
                                <h3 className="text-2xl font-bold text-center mb-6">생애주기 환경 영향</h3>
                                <LifecycleChart />
                            </div>
                        </div>
                    </div>
                </div>
            );
        };

        // 환경 영향 상세 분석
        const EnvironmentAnalysis = () => {
            const analyses = [
                {
                    title: '대기 질 개선',
                    icon: 'fas fa-wind',
                    impact: '매우 긍정적',
                    details: [
                        '도심 지역 미세먼지 농도 20% 감소',
                        '질소산화물(NOx) 배출량 90% 저감',
                        '소음 공해 70% 감소'
                    ],
                    color: 'blue'
                },
                {
                    title: '기후 변화 대응',
                    icon: 'fas fa-globe-americas',
                    impact: '긍정적',
                    details: [
                        '2030년까지 15억 톤 CO₂ 절감 목표',
                        '재생 에너지와 연계 시 탄소 중립',
                        '전력망 안정성 기여 (V2G)'
                    ],
                    color: 'green'
                },
                {
                    title: '자원 순환',
                    icon: 'fas fa-recycle',
                    impact: '개선 필요',
                    details: [
                        '배터리 원자재 채굴 환경 영향',
                        '리튬, 코발트 재활용 기술 발전',
                        '순환 경제 모델 구축 중'
                    ],
                    color: 'orange'
                },
                {
                    title: '에너지 효율',
                    icon: 'fas fa-bolt',
                    impact: '매우 긍정적',
                    details: [
                        '에너지 변환 효율 90% 이상',
                        '내연기관 대비 3배 높은 효율',
                        '스마트 충전으로 그리드 최적화'
                    ],
                    color: 'purple'
                }
            ];

            const getColorClasses = (color) => {
                const colors = {
                    blue: 'border-blue-200 bg-blue-50',
                    green: 'border-green-200 bg-green-50',
                    orange: 'border-orange-200 bg-orange-50',
                    purple: 'border-purple-200 bg-purple-50'
                };
                return colors[color] || colors.green;
            };

            const getImpactColor = (impact) => {
                const colors = {
                    '매우 긍정적': 'text-green-600 bg-green-100',
                    '긍정적': 'text-blue-600 bg-blue-100',
                    '개선 필요': 'text-orange-600 bg-orange-100'
                };
                return colors[impact] || colors['긍정적'];
            };

            return (
                <div className="py-16 bg-white">
                    <div className="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
                        <div className="text-center mb-12">
                            <h2 className="text-3xl font-bold text-gray-900 mb-4">환경 영향 분석</h2>
                            <p className="text-lg text-gray-600">전기차의 다각도 환경 영향 평가</p>
                        </div>
                        <div className="grid grid-cols-1 md:grid-cols-2 gap-8">
                            {analyses.map((analysis, index) => (
                                <div key={index} className={`env-card p-6 rounded-xl border-2 ${getColorClasses(analysis.color)}`}>
                                    <div className="flex items-start justify-between mb-4">
                                        <div className="flex items-center">
                                            <div className={`w-12 h-12 rounded-full flex items-center justify-center mr-4 ${getColorClasses(analysis.color).replace('bg-', 'bg-').replace('-50', '-200')}`}>
                                                <i className={`${analysis.icon} text-xl text-gray-700`}></i>
                                            </div>
                                            <h3 className="text-xl font-semibold text-gray-900">{analysis.title}</h3>
                                        </div>
                                        <span className={`px-3 py-1 rounded-full text-sm font-medium ${getImpactColor(analysis.impact)}`}>
                                            {analysis.impact}
                                        </span>
                                    </div>
                                    <ul className="space-y-2">
                                        {analysis.details.map((detail, detailIndex) => (
                                            <li key={detailIndex} className="flex items-start text-gray-700">
                                                <i className="fas fa-check-circle text-green-500 mr-2 text-sm mt-1"></i>
                                                <span>{detail}</span>
                                            </li>
                                        ))}
                                    </ul>
                                </div>
                            ))}
                        </div>
                    </div>
                </div>
            );
        };

        // 푸터 컴포넌트
        const Footer = () => {
            return (
                <footer className="bg-gray-800 text-white py-12">
                    <div className="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
                        <div className="grid grid-cols-1 md:grid-cols-3 gap-8">
                            <div>
                                <h3 className="text-xl font-bold mb-4">전기차 현황</h3>
                                <p className="text-gray-300 mb-4">지속 가능한 미래를 위한 교육 플랫폼</p>
                                <div className="flex space-x-4">
                                    <a href="#" className="text-gray-300 hover:text-white">
                                        <i className="fab fa-facebook text-xl"></i>
                                    </a>
                                    <a href="#" className="text-gray-300 hover:text-white">
                                        <i className="fab fa-twitter text-xl"></i>
                                    </a>
                                    <a href="#" className="text-gray-300 hover:text-white">
                                        <i className="fab fa-linkedin text-xl"></i>
                                    </a>
                                </div>
                            </div>
                            <div>
                                <h4 className="text-lg font-semibold mb-4">빠른 링크</h4>
                                <ul className="space-y-2">
                                    <li><a href="main.html" className="text-gray-300 hover:text-white">홈</a></li>
                                    <li><a href="technologies.html" className="text-gray-300 hover:text-white">기술</a></li>
                                    <li><a href="market.html" className="text-gray-300 hover:text-white">시장 동향</a></li>
                                    <li><a href="environment.html" className="text-gray-300 hover:text-white">환경 영향</a></li>
                                    <li><a href="future.html" className="text-gray-300 hover:text-white">미래 전망</a></li>
                                </ul>
                            </div>
                            <div>
                                <h4 className="text-lg font-semibold mb-4">문의 정보</h4>
                                <div className="text-gray-300 space-y-2">
                                    <div className="flex items-center">
                                        <i className="fas fa-calendar-alt mr-2"></i>
                                        <span>2025년 5월</span>
                                    </div>
                                    <div className="flex items-center">
                                        <i className="fas fa-building mr-2"></i>
                                        <span>Power Solution Inc.</span>
                                    </div>
                                    <div className="flex items-center">
                                        <i className="fas fa-user mr-2"></i>
                                        <span>CEO 이창준</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div className="border-t border-gray-700 mt-8 pt-8 text-center">
                            <p className="text-gray-300">&copy; 2025 전기차 현황. 모든 권리 보유.</p>
                        </div>
                    </div>
                </footer>
            );
        };

        // 메인 앱 컴포넌트
        const App = () => {
            return (
                <div className="min-h-screen">
                    <HeroSection />
                    <EnvironmentStats />
                    <EnvironmentAnalysis />
                    <Footer />
                </div>
            );
        };

        // 앱 렌더링
        ReactDOM.render(<App />, document.getElementById('root'));
    </script>
</body>
</html>
<body>
    <!-- 헤더 영역 -->
    <header class="bg-success bg-gradient text-white py-3">
        <div class="container">
            <div class="row align-items-center">
                <div class="col-md-6">
                    <h1 class="site-title"><a href="main.html" class="text-white text-decoration-none">전기차 현황</a></h1>
                    <p class="site-description mb-0">지속 가능한 미래를 위한 교육 플랫폼</p>
                </div>
                <div class="col-md-6 d-none d-md-block">
                                        <img src="assets/images/header-illustration.svg" alt="전기차 일러스트레이션" class="img-fluid header-image" loading="lazy">
                </div>
            </div>
        </div>
    </header>

    <!-- 네비게이션 영역 -->
    <nav class="navbar navbar-expand-lg navbar-dark bg-dark">
        <div class="container">
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarMain" aria-controls="navbarMain" aria-expanded="false" aria-label="네비게이션 토글">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarMain">
                <ul class="navbar-nav me-auto mb-2 mb-lg-0">
                    <li class="nav-item">
                        <a class="nav-link" href="main.html">홈</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="technologies.html">기술</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="market.html">시장 동향</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link active" href="environment.html">환경 영향</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="future.html">미래 전망</a>
                    </li>
                </ul>
                </div>
                </div>
                </nav>
                
                <!-- 메인 콘텐츠 영역 -->
                <main class="py-5">
                    <!-- 페이지 소개 섹션 -->
                    <section class="container mb-5">
                        <div class="row">
                            <div class="col-lg-8">
                                <h2 class="mb-4">전기차와 환경</h2>
                                <p class="lead">전기차는 지구 온난화와 대기 오염을 줄이는 큰 잠재력을 가지고 있지만, 전체 생애주기 관점에서 다양한 환경 영향을 고려해야 합니다.</p>
                                <p>희소기체 배출부터 배터리 장수기한까지 전기차의 환경적 영향을 종합적으로 이해하는 것은 지속 가능한 미래를 구축하는 데 필수적인 요소입니다.</p>
                            </div>
                            <div class="col-lg-4 mt-4 mt-lg-0">
                                <div class="card border-success">
                                    <div class="card-header bg-success text-white">
                                        <h3 class="h5 mb-0">중요 환경 영향 요소</h3>
                        </div>
                        <div class="card-body">
                            <ul class="list-group list-group-flush">
                                <li class="list-group-item">탄소 배출량 감소</li>
                                <li class="list-group-item">대기 오염물질 저감</li>
                                <li class="list-group-item">자원 채굴과 소비</li>
                                <li class="list-group-item">배터리 생산과 폐기</li>
                                <li class="list-group-item">소음 오염 감소</li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </section>
    
        <!-- 탄소 배출 비교 섹션 -->
        <section class="py-5 bg-light">
            <div class="container">
                <h2 class="mb-4 text-center">전기차 vs 내연기관 차량: 탄소 배출 비교</h2>
                <div class="row align-items-center">
                    <div class="col-lg-5 mb-4 mb-lg-0">
                        <p>전기차는 운행 시 직접적인 배기가스를 배출하지 않지만, 전체 생애주기 관점에서는 배터리 생산과 전력 발전원을 고려해야 합니다. 하지만 대부분의 연구에서 전기차는 내연기관 차량보다 전체 탄소 배출이 상당히 적은 것으로 나타납니다.</p>
                        <div class="mb-3 mt-4">
                            <h4 class="h5">나라별 전력원 핵스에 따른 차이</h4>
                            <p>전력 생산 방식에 따라 전기차의 탄소 배출양은 크게 달라집니다. 예를 들어, 수력, 태양광, 핵발전 비중이 높은 나라의 전기차는 석탄 발전 위주인 나라보다 환경적 혼소풍이 더 크게 나타납니다.</p>
                        </div>
                        <a href="#carbon-calculator" class="btn btn-success">탄소 배출 계산기 사용해보기</a>
                    </div>
                    <div class="col-lg-7">
                        <div class="chart-container" style="position: relative; height:400px;">
                            <canvas id="carbonComparisonChart"></canvas>
                        </div>
                    </div>
                </div>
            </div>
        </section>
        
        <!-- 탄소 배출 계산기 섹션 -->
        <section id="carbon-calculator" class="py-5 bg-white">
            <div class="container">
                <h2 class="mb-4 text-center">개인 맞춤형 탄소 배출 계산기</h2>
                <p class="text-center text-muted mb-5">귀하의 차량 사용 패턴에 맞는 탄소 배출량을 계산해보세요</p>
                
                <div class="row justify-content-center">
                    <div class="col-lg-8">
                        <div class="card shadow-sm">
                            <div class="card-header bg-success text-white">
                                <h4 class="card-title mb-0"><i class="bi bi-calculator me-2"></i>탄소 배출량 계산</h4>
                            </div>
                            <div class="card-body">
                                <form id="co2-calculator-form" role="form" aria-label="탄소 배출량 계산기">
                                    <fieldset>
                                        <legend class="visually-hidden">차량 정보 입력</legend>
                                        <div class="row">
                                            <div class="col-md-6 mb-3">
                                                <label for="vehicle-type" class="form-label fw-bold">차량 유형</label>
                                                <select class="form-select" id="vehicle-type" required 
                                                        aria-required="true" aria-describedby="vehicle-type-help">
                                                    <option value="">차량 유형을 선택하세요</option>
                                                    <option value="ev">순수 전기차 (BEV)</option>
                                                    <option value="phev">플러그인 하이브리드 (PHEV)</option>
                                                    <option value="hev">하이브리드 (HEV)</option>
                                                    <option value="ice">내연기관 차량 (ICE)</option>
                                                </select>
                                                <div id="vehicle-type-help" class="form-text" role="note">
                                                    귀하가 운전하는 차량의 동력 원을 선택해주세요
                                                </div>
                                            </div>
                                            <div class="col-md-6 mb-3">
                                                <label for="power-source" class="form-label fw-bold">전력원 (전기차만 해당)</label>
                                                <select class="form-select" id="power-source" aria-describedby="power-source-help">
                                                    <option value="mixed">일반 전력망 (혼합)</option>
                                                    <option value="renewable">재생에너지 위주</option>
                                                    <option value="fossil">화석연료 위주</option>
                                                </select>
                                                <div id="power-source-help" class="form-text" role="note">
                                                    전기차가 아닌 경우 이 설정은 무시됩니다
                                                </div>
                                            </div>
                                        </div>
                                        <div class="mb-4">
                                            <label for="annual-distance" class="form-label fw-bold">연간 주행거리 (km)</label>
                                            <input type="number" class="form-control" id="annual-distance" 
                                                   placeholder="예: 15000" min="1" max="100000" required
                                                   aria-required="true" aria-describedby="distance-help distance-range">
                                            <div id="distance-help" class="form-text" role="note">
                                                일반적으로 한국 운전자는 연간 12,000-20,000km 주행합니다
                                            </div>
                                            <div id="distance-range" class="form-text text-muted small" role="note">
                                                입력 범위: 1km - 100,000km
                                            </div>
                                        </div>
                                    </fieldset>
                                    <div class="text-center">
                                        <button type="submit" class="btn btn-success btn-lg" 
                                                aria-describedby="calculate-help">
                                            <i class="bi bi-calculator me-2" aria-hidden="true"></i>탄소 배출량 계산하기
                                        </button>
                                        <div id="calculate-help" class="form-text mt-2" role="note">
                                            입력한 정보를 바탕으로 연간 탄소 배출량을 계산합니다
                                        </div>
                                    </div>
                                </form>
                            </div>
                        </div>
                        
                        <!-- 결과 표시 영역 -->
                        <div id="calculator-results" class="mt-4" 
                             role="region" aria-label="계산 결과" 
                             aria-live="polite" aria-atomic="true"></div>
                    </div>
                </div>
            </div>
        </section>
        
        <!-- 데이터 사용량 계산기 섹션 -->
        <section id="data-usage-calculator" class="py-5 bg-light">
            <div class="container">
                <h2 class="mb-4 text-center">휴대폰 데이터 사용량 계산기</h2>
                <p class="text-center text-muted mb-5">데이터 사용량에 따른 전기 사용량과 전기료를 계산해보세요</p>
                
                <div class="row justify-content-center">
                    <div class="col-lg-8">
                        <div class="card shadow-sm">
                            <div class="card-header bg-primary text-white">
                                <h4 class="card-title mb-0"><i class="bi bi-phone me-2"></i>데이터 사용량 계산</h4>
                            </div>
                            <div class="card-body">
                                <form id="data-usage-calculator-form" role="form" aria-label="데이터 사용량 계산기">
                                    <fieldset>
                                        <legend class="visually-hidden">데이터 사용량 정보 입력</legend>
                                        <div class="mb-4">
                                            <label for="data-usage-amount" class="form-label fw-bold">월간 데이터 사용량 (GB)</label>
                                            <div class="input-group">
                                                <input type="number" class="form-control" id="data-usage-amount" 
                                                       placeholder="예: 50" min="1" max="1000" required
                                                       aria-required="true" aria-describedby="data-usage-help data-usage-range">
                                                <span class="input-group-text">GB</span>
                                            </div>
                                            <div id="data-usage-help" class="form-text" role="note">
                                                일반적으로 한국 사용자는 월간 30-100GB를 사용합니다
                                            </div>
                                            <div id="data-usage-range" class="form-text text-muted small" role="note">
                                                입력 범위: 1GB - 1,000GB
                                            </div>
                                            
                                            <!-- 데이터 사용량 슬라이더 -->
                                            <div class="mt-3">
                                                <label for="data-usage-slider" class="form-label small">빠른 선택</label>
                                                <input type="range" class="form-range" id="data-usage-slider" 
                                                       min="1" max="1000" value="50" 
                                                       aria-describedby="slider-help">
                                                <div class="d-flex justify-content-between text-muted small">
                                                    <span>1GB</span>
                                                    <span>500GB</span>
                                                    <span>1000GB</span>
                                                </div>
                                                <div id="slider-help" class="form-text small" role="note">
                                                    슬라이더로 빠르게 선택할 수 있습니다
                                                </div>
                                            </div>
                                        </div>
                                    </fieldset>
                                    <div class="text-center">
                                        <button type="submit" class="btn btn-primary btn-lg" 
                                                aria-describedby="calculate-data-help">
                                            <i class="bi bi-calculator me-2" aria-hidden="true"></i>데이터 사용량 계산하기
                                        </button>
                                        <div id="calculate-data-help" class="form-text mt-2" role="note">
                                            입력한 데이터 사용량을 바탕으로 전기료와 환경 영향을 계산합니다
                                        </div>
                                    </div>
                                </form>
                            </div>
                        </div>
                        
                        <!-- 결과 표시 영역 -->
                        <div id="data-usage-results" class="mt-4" 
                             role="region" aria-label="데이터 사용량 계산 결과" 
                             aria-live="polite" aria-atomic="true"></div>
                    </div>
                </div>
            </div>
        </section>
        
        <!-- 생애주기 분석 섹션 -->
        <section class="container py-5">
            <h2 class="mb-4 text-center">전기차 생애주기 분석</h2>
            <div class="row">
                <div class="col-lg-6 mb-4">
                    <div class="card h-100">
                        <div class="card-body">
                            <h3 class="h5 mb-3">전기차 전체 생애주기 단계</h3>
                            <div class="d-flex flex-column gap-3">
                                <div class="lifecycle-stage">
                                    <h4 class="h6 fw-bold">1. 원료 채굴 및 미처리</h4>
                                    <p>리튬, 코발트, 니켜, 논, 그래파이트 등 배터리 원료 채굴과 처리 과정이 포함됩니다.</p>
                                </div>
                                <div class="lifecycle-stage">
                                    <h4 class="h6 fw-bold">2. 부품 제조</h4>
                                    <p>배터리, 모터, 전기 시스템, 차체 등 주요 부품 제조 과정의 환경 영향입니다.</p>
                                </div>
                                <div class="lifecycle-stage">
                                    <h4 class="h6 fw-bold">3. 조립 및 유통</h4>
                                    <p>차량 조립 과정과 소비자에게 유통되기까지의 환경 영향입니다.</p>
                                </div>
                                <div class="lifecycle-stage">
                                    <h4 class="h6 fw-bold">4. 사용 및 운행</h4>
                                    <p>전기차 운행에 필요한 전력 생산 및 충전 프로세스의 환경 영향입니다.</p>
                                </div>
                                <div class="lifecycle-stage">
                                    <h4 class="h6 fw-bold">5. 수명 종료 및 재활용</h4>
                                    <p>차량 폐기, 부품 재활용, 비배터리 재활용, 그리고 배터리 재활용 및 폐기의 환경 영향입니다.</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-lg-6">
                    <div class="card h-100">
                        <div class="card-body">
                            <h3 class="h5 mb-3">생애주기 단계별 환경 영향</h3>
                            <div class="chart-container" style="position: relative; height:350px;">
                                <canvas id="lifecycleImpactChart"></canvas>
                            </div>
                            <div class="mt-4">
                                <h4 class="h6 fw-bold">환경 영향 개선을 위한 노력</h4>
                                <ul class="mt-2">
                                    <li>배터리 기술 개선과 수명 연장</li>
                                    <li>우수한 배터리 재활용 시스템 구축</li>
                                    <li>주요 부품 제조 과정의 자원 절감</li>
                                    <li>재생 가능 에너지원 전력 확대</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>
        <div class="container">
            <div class="row">
                <div class="col-md-4 mb-3 mb-md-0">
                    <h5>전기차 현황</h5>
                    <p class="text-muted">지속 가능한 미래를 위한 교육 플랫폼</p>
                </div>
                <div class="col-md-4 mb-3 mb-md-0">
                    <h5>링크</h5>
                    <ul class="list-unstyled">
                        <li><a href="main.html" class="text-decoration-none text-white">홈</a></li>
                        <li><a href="technologies.html" class="text-decoration-none text-white">기술</a></li>
                        <li><a href="market.html" class="text-decoration-none text-white">시장 동향</a></li>
                        <li><a href="environment.html" class="text-decoration-none text-white">환경 영향</a></li>
                        <li><a href="future.html" class="text-decoration-none text-white">미래 전망</a></li>
                    </ul>
                </div>
                <div class="col-md-4">
                    <h5>추가 정보</h5>
                    <p>이 웹사이트는 전기차에 관한 교육 목적으로 제작되었으며, 가장 최신의 연구 결과와 통계를 기반으로 합니다.</p>
                </div>
            </div>
            <hr class="my-4 bg-secondary">
            <div class="row">
                <div class="col-md-6 small">
                    <p class="mb-0">&copy; 2025 전기차 현황 교육 플랫폼. All rights reserved.</p>
                </div>
                <div class="col-md-6 text-md-end small">
                    <a href="#" class="text-decoration-none text-white me-3">개인정보취급방침</a>
                    <a href="#" class="text-decoration-none text-white">이용약관</a>
                </div>
            </div>
        </div>
    </footer>
    
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js" defer></script>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.0/font/bootstrap-icons.css" rel="stylesheet">
    
    <!-- 차트 및 계산기 스크립트 -->
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // 계산기 결과 차트 인스턴스 변수
            let resultComparisonChartInstance = null;
            let resultImpactChartInstance = null;
            
            // 계산기 결과 차트 생성 함수
            function createResultCharts(vehicleType, co2PerKm, annualCO2) {
                // 기존 차트 인스턴스 제거
                if (resultComparisonChartInstance) {
                    resultComparisonChartInstance.destroy();
                }
                if (resultImpactChartInstance) {
                    resultImpactChartInstance.destroy();
                }
                
                // 1. 차량별 CO2 배출량 비교 바차트
                const comparisonCtx = document.getElementById('resultComparisonChart').getContext('2d');
                
                // 차량 유형별 데이터 정의
                const vehicleData = {
                    'electric': { name: '전기차', co2: 50, color: 'rgba(40, 167, 69, 0.8)', borderColor: 'rgba(40, 167, 69, 1)' },
                    'hybrid': { name: '하이브리드', co2: 120, color: 'rgba(23, 162, 184, 0.8)', borderColor: 'rgba(23, 162, 184, 1)' },
                    'ice': { name: '내연기관', co2: 200, color: 'rgba(220, 53, 69, 0.8)', borderColor: 'rgba(220, 53, 69, 1)' }
                };
                
                const labels = Object.values(vehicleData).map(v => v.name);
                const data = Object.values(vehicleData).map(v => v.co2);
                const backgroundColors = Object.values(vehicleData).map(v => v.color);
                const borderColors = Object.values(vehicleData).map(v => v.borderColor);
                
                // 사용자 선택 차량 하이라이트 처리
                const userIndex = Object.keys(vehicleData).indexOf(vehicleType);
                if (userIndex !== -1) {
                    backgroundColors[userIndex] = backgroundColors[userIndex].replace('0.8', '1.0');
                }
                
                resultComparisonChartInstance = new Chart(comparisonCtx, {
                    type: 'bar',
                    data: {
                        labels: labels,
                        datasets: [{
                            label: 'CO₂ 배출량 (g/km)',
                            data: data,
                            backgroundColor: backgroundColors,
                            borderColor: borderColors,
                            borderWidth: 2
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        plugins: {
                            legend: {
                                position: 'top'
                            },
                            title: {
                                display: true,
                                text: '차량별 CO₂ 배출량 비교'
                            },
                            tooltip: {
                                callbacks: {
                                    label: function(context) {
                                        return `${context.label}: ${context.parsed.y}g CO₂/km`;
                                    }
                                }
                            }
                        },
                        scales: {
                            y: {
                                beginAtZero: true,
                                title: {
                                    display: true,
                                    text: 'CO₂ 배출량 (g/km)'
                                }
                            }
                        }
                    }
                });
                
                // 2. 환경 개선 효과 도넛차트
                const impactCtx = document.getElementById('resultImpactChart').getContext('2d');
                
                // 내연기관 차량 대비 개선 효과 계산
                const baselineCO2 = 200; // 내연기관 차량 기준
                const savedCO2 = Math.max(0, baselineCO2 - co2PerKm);
                const savedPercentage = Math.round((savedCO2 / baselineCO2) * 100);
                const remainingPercentage = 100 - savedPercentage;
                
                resultImpactChartInstance = new Chart(impactCtx, {
                    type: 'doughnut',
                    data: {
                        labels: ['절약된 CO₂', '여전히 배출되는 CO₂'],
                        datasets: [{
                            label: '환경 개선 효과',
                            data: [savedPercentage, remainingPercentage],
                            backgroundColor: [
                                'rgba(40, 167, 69, 0.8)',
                                'rgba(220, 53, 69, 0.3)'
                            ],
                            borderColor: [
                                'rgba(40, 167, 69, 1)',
                                'rgba(220, 53, 69, 1)'
                            ],
                            borderWidth: 2
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        plugins: {
                            legend: {
                                position: 'bottom'
                            },
                            title: {
                                display: true,
                                text: '내연기관 대비 개선 효과'
                            },
                            tooltip: {
                                callbacks: {
                                    label: function(context) {
                                        return `${context.label}: ${context.formattedValue}%`;
                                    }
                                }
                            }
                        }
                        }
                        });
                        
                        // 인포그래픽 애니메이션 효과 시작
                        setTimeout(() => {
                        // 카운터 애니메이션
                        const counters = document.querySelectorAll('.counter');
                        counters.forEach(counter => {
                        const target = parseInt(counter.getAttribute('data-target'));
                        const duration = 2000; // 2초
                        const increment = target / (duration / 16); // 60fps
                        let current = 0;
                        
                        const updateCounter = () => {
                            if (current < target) {
                                current += increment;
                                counter.textContent = Math.round(current);
                                requestAnimationFrame(updateCounter);
                            } else {
                                counter.textContent = target;
                            }
                        };
                        
                        updateCounter();
                        });
                        
                        // 프로그레스 바 애니메이션
                        const progressBars = document.querySelectorAll('.progress-animated');
                        progressBars.forEach(bar => {
                        const targetWidth = bar.getAttribute('data-width');
                        bar.style.transition = 'width 1.5s ease-out';
                        setTimeout(() => {
                            bar.style.width = targetWidth + '%';
                        }, 100);
                        });
                        }, 300);
                        }
        
            // 탄소 배출 비교 차트
            const carbonCtx = document.getElementById('carbonComparisonChart').getContext('2d');
            const carbonChart = new Chart(carbonCtx, {
                type: 'bar',
                data: {
                    labels: ['순수 전기차 (재생에너지)', '순수 전기차 (혼합 전력)', '순수 전기차 (화석연료 전력)', '플러그인 하이브리드', '하이브리드', '가송 자동차', '디젤 자동차'],
                    datasets: [{
                        label: '생애주기 탄소 배출량 (g CO₂/km)',
                        data: [30, 70, 130, 90, 120, 170, 210],
                        backgroundColor: [
                            'rgba(40, 167, 69, 0.8)',
                            'rgba(40, 167, 69, 0.6)',
                            'rgba(40, 167, 69, 0.4)',
                            'rgba(23, 162, 184, 0.8)',
                            'rgba(23, 162, 184, 0.6)',
                            'rgba(220, 53, 69, 0.8)',
                            'rgba(220, 53, 69, 0.6)'
                        ],
                        borderColor: [
                            'rgba(40, 167, 69, 1)',
                            'rgba(40, 167, 69, 1)',
                            'rgba(40, 167, 69, 1)',
                            'rgba(23, 162, 184, 1)',
                            'rgba(23, 162, 184, 1)',
                            'rgba(220, 53, 69, 1)',
                            'rgba(220, 53, 69, 1)'
                        ],
                        borderWidth: 1
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: {
                            position: 'top',
                        },
                        title: {
                            display: true,
                            text: '차량 유형별 전체 생애주기 탄소 배출량 비교'
                        },
                        tooltip: {
                            mode: 'index',
                            intersect: false
                        }
                    },
                    scales: {
                        y: {
                            beginAtZero: true,
                            title: {
                                display: true,
                                text: 'CO₂ 배출량 (g/km)'
                            }
                        }
                    }
                }
            });
    
            // 생애주기 단계별 환경 영향 차트
            const lifecycleCtx = document.getElementById('lifecycleImpactChart').getContext('2d');
            const lifecycleChart = new Chart(lifecycleCtx, {
                type: 'doughnut',
                data: {
                    labels: ['원료 채굴 및 미처리', '부품 제조', '조립 및 유통', '사용 및 운행', '수명 종료 및 재활용'],
                    datasets: [{
                        label: '환경 영향 비율',
                        data: [25, 35, 5, 25, 10],
                        backgroundColor: [
                            'rgba(255, 99, 132, 0.7)',
                            'rgba(54, 162, 235, 0.7)',
                            'rgba(255, 206, 86, 0.7)',
                            'rgba(75, 192, 192, 0.7)',
                            'rgba(153, 102, 255, 0.7)'
                        ],
                        borderColor: [
                            'rgba(255, 99, 132, 1)',
                            'rgba(54, 162, 235, 1)',
                            'rgba(255, 206, 86, 1)',
                            'rgba(75, 192, 192, 1)',
                            'rgba(153, 102, 255, 1)'
                        ],
                        borderWidth: 1
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: {
                            position: 'right',
                        },
                        title: {
                            display: true,
                            text: '전기차 생애주기 단계별 환경 영향 비율'
                        },
                        tooltip: {
                            callbacks: {
                                label: function(context) {
                                    return `${context.label}: ${context.formattedValue}%`;
                                }
                            }
                        }
                    }
                }
            });
    
            // CO2 배출 계산기 기능
            const calculatorForm = document.getElementById('co2-calculator-form');
            const calculatorResults = document.getElementById('calculator-results');
    
            calculatorForm.addEventListener('submit', function(e) {
                e.preventDefault();
                
                // 입력값 가져오기
                const vehicleType = document.getElementById('vehicle-type').value;
                const annualDistance = parseInt(document.getElementById('annual-distance').value);
                const powerSource = document.getElementById('power-source').value;
                
                // 간단한 계산 로직 (실제 응용에서는 더 복잡한 계산이 필요합니다)
                let co2PerKm = 0;
                let annualCO2 = 0;
                let comparisonText = '';
                
                switch(vehicleType) {
                    case 'ev':
                        if (powerSource === 'renewable') {
                            co2PerKm = 30;
                            comparisonText = '내연기관 차량 대비 약 85% 적은 배출량';
                        } else if (powerSource === 'mixed') {
                            co2PerKm = 70;
                            comparisonText = '내연기관 차량 대비 약 65% 적은 배출량';
                        } else {
                            co2PerKm = 130;
                            comparisonText = '내연기관 차량 대비 약 35% 적은 배출량';
                        }
                        break;
                    case 'phev':
                        co2PerKm = 90;
                        comparisonText = '내연기관 차량 대비 약 55% 적은 배출량';
                        break;
                    case 'hev':
                        co2PerKm = 120;
                        comparisonText = '내연기관 차량 대비 약 40% 적은 배출량';
                        break;
                    case 'ice':
                        co2PerKm = 200;
                        comparisonText = '기준값 (일반 내연기관 차량)';
                        break;
                }
                
                annualCO2 = (co2PerKm * annualDistance) / 1000; // kg으로 변환
                
                // 결과 표시 - 차트 기반 시각화
                calculatorResults.innerHTML = `
                    <div class="card border-success">
                        <div class="card-header bg-success text-white text-center">
                            <h4 class="mb-0" role="heading" aria-level="3">
                                <i class="bi bi-graph-up me-2" aria-hidden="true"></i>계산 결과 시각화
                            </h4>
                        </div>
                        <div class="card-body">
                            <!-- 주요 수치 요약 -->
                            <div class="row text-center mb-4">
                                <div class="col-md-6">
                                    <div class="bg-light p-3 rounded">
                                        <div class="h2 text-success mb-1">${co2PerKm}</div>
                                        <div class="text-muted">g CO₂/km</div>
                                        <div class="small">거리당 배출량</div>
                                    </div>
                                </div>
                                <div class="col-md-6">
                                    <div class="bg-light p-3 rounded">
                                        <div class="h2 text-success mb-1">${annualCO2.toFixed(1)}</div>
                                        <div class="text-muted">kg CO₂/년</div>
                                        <div class="small">연간 총 배출량</div>
                                    </div>
                                </div>
                            </div>
                            
                            <!-- 환경 이익 인포그래픽 섹션 -->
                            <div class="row mb-4">
                                <div class="col-12">
                                    <h5 class="mb-3 text-center">
                                        <i class="bi bi-award me-2 text-success" aria-hidden="true"></i>
                                        환경 개선 효과
                                    </h5>
                                </div>
                            </div>
                            
                            <div class="row text-center mb-4">
                                <!-- 나무 심기 효과 -->
                                <div class="col-md-4 mb-3">
                                    <div class="bg-light p-3 rounded border">
                                        <div class="mb-2">
                                            <i class="bi bi-tree text-success display-4" aria-hidden="true"></i>
                                        </div>
                                        <div class="h4 text-success mb-1">
                                            <span class="counter" data-target="${Math.round(annualCO2 * 0.045)}">0</span>그루
                                        </div>
                                        <div class="text-muted small">나무 심기와 동등한 효과</div>
                                        <div class="mt-2">
                                            <div class="progress" style="height: 8px;">
                                                <div class="progress-bar bg-success progress-animated" 
                                                     role="progressbar" 
                                                     data-width="${Math.min(100, (annualCO2 * 0.045 / 10) * 100)}"
                                                     style="width: 0%"
                                                     aria-valuenow="${Math.round(annualCO2 * 0.045)}" 
                                                     aria-valuemin="0" 
                                                     aria-valuemax="10"
                                                     aria-label="나무 심기 효과 진행률">
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                
                                <!-- 절약 거리 효과 -->
                                <div class="col-md-4 mb-3">
                                    <div class="bg-light p-3 rounded border">
                                        <div class="mb-2">
                                            <i class="bi bi-car-front text-primary display-4" aria-hidden="true"></i>
                                        </div>
                                        <div class="h4 text-primary mb-1">
                                            <span class="counter" data-target="${Math.round((200 - co2PerKm) * annualDistance / 200)}">0</span>km
                                        </div>
                                        <div class="text-muted small">내연기관 대비 절약된 거리</div>
                                        <div class="mt-2">
                                            <div class="progress" style="height: 8px;">
                                                <div class="progress-bar bg-primary progress-animated" 
                                                     role="progressbar" 
                                                     data-width="${Math.min(100, ((200 - co2PerKm) / 200) * 100)}"
                                                     style="width: 0%"
                                                     aria-valuenow="${Math.round(((200 - co2PerKm) / 200) * 100)}" 
                                                     aria-valuemin="0" 
                                                     aria-valuemax="100"
                                                     aria-label="탄소 절약 효과 진행률">
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                
                                <!-- 에너지 효율성 -->
                                <div class="col-md-4 mb-3">
                                    <div class="bg-light p-3 rounded border">
                                        <div class="mb-2">
                                            <i class="bi bi-lightning-fill text-warning display-4" aria-hidden="true"></i>
                                        </div>
                                        <div class="h4 text-warning mb-1">
                                            <span class="counter" data-target="${Math.round(((200 - co2PerKm) / 200) * 100)}">0</span>%
                                        </div>
                                        <div class="text-muted small">에너지 효율성 개선</div>
                                        <div class="mt-2">
                                            <div class="progress" style="height: 8px;">
                                                <div class="progress-bar bg-warning progress-animated" 
                                                     role="progressbar" 
                                                     data-width="${Math.min(100, ((200 - co2PerKm) / 200) * 100)}"
                                                     style="width: 0%"
                                                     aria-valuenow="${Math.round(((200 - co2PerKm) / 200) * 100)}" 
                                                     aria-valuemin="0" 
                                                     aria-valuemax="100"
                                                     aria-label="에너지 효율성 진행률">
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            
                            <!-- 환경 효과 요약 배지 -->
                            <div class="row mb-4">
                                <div class="col-12">
                                    <div class="d-flex flex-wrap justify-content-center gap-2">
                                        <span class="badge bg-success fs-6 p-2">
                                            <i class="bi bi-check-circle me-1" aria-hidden="true"></i>
                                            연간 ${(200 - co2PerKm) * annualDistance / 1000}kg CO₂ 절약
                                        </span>
                                        <span class="badge bg-info fs-6 p-2">
                                            <i class="bi bi-globe me-1" aria-hidden="true"></i>
                                            지구 온난화 방지에 기여
                                        </span>
                                        <span class="badge bg-primary fs-6 p-2">
                                            <i class="bi bi-heart me-1" aria-hidden="true"></i>
                                            깨끗한 공기 환경 조성
                                        </span>
                                    </div>
                                </div>
                            </div>
                            
                            
                            <!-- 차트 영역 -->
                            <div class="row">
                                <div class="col-lg-8 mb-4">
                                    <h5 class="mb-3">차량별 CO₂ 배출량 비교</h5>
                                    <div class="chart-container" style="position: relative; height: 300px;">
                                        <canvas id="resultComparisonChart" role="img" 
                                                aria-label="차량별 이산화탄소 배출량 비교 차트"></canvas>
                                    </div>
                                </div>
                                <div class="col-lg-4 mb-4">
                                    <h5 class="mb-3">환경 개선 효과</h5>
                                    <div class="chart-container" style="position: relative; height: 300px;">
                                        <canvas id="resultImpactChart" role="img" 
                                                aria-label="환경 개선 효과 차트"></canvas>
                                    </div>
                                </div>
                            </div>
                            
                            <!-- 비교 정보 -->
                            <div class="alert alert-info" role="note">
                                <i class="bi bi-info-circle me-2" aria-hidden="true"></i>
                                <strong>비교 결과:</strong> ${comparisonText}
                            </div>
                            
                            <div class="text-center mt-3 small text-muted" role="note">
                                * 이 계산은 일반적인 차량 사용 패턴을 기준으로 한 추정값입니다.
                            </div>
                        </div>
                    </div>
                `;
                
                // 차트 생성 (약간의 지연을 두어 DOM 렌더링 완료 대기)
                setTimeout(() => {
                    createResultCharts(vehicleType, co2PerKm, annualCO2);
                }, 100);
            });
        });
        
        // 데이터 사용량 계산기 상수 정의
        const DATA_CENTER_EFFICIENCY = 0.5; // kWh per GB
        const EV_EFFICIENCY = 15; // kWh per 100km
        
        // 한국전력 누진세 계산 함수
        function calculateElectricBill(kWh) {
            let totalBill = 0;
            
            if (kWh <= 200) {
                // 1구간: 200kWh 이하 - 120원/kWh
                totalBill = kWh * 120;
            } else if (kWh <= 400) {
                // 2구간: 201~400kWh - 214원/kWh
                totalBill = (200 * 120) + ((kWh - 200) * 214);
            } else {
                // 3구간: 400kWh 초과 - 307원/kWh
                totalBill = (200 * 120) + (200 * 214) + ((kWh - 400) * 307);
            }
            
            return Math.round(totalBill);
        }
        
        // 데이터 사용량 계산 함수
        function calculateDataUsage(dataGB) {
            try {
                // 입력값 검증
                if (!dataGB || dataGB <= 0 || dataGB > 1000) {
                    throw new Error('데이터 사용량은 1GB~1000GB 사이여야 합니다.');
                }
                
                // 전력 소비량 계산 (kWh)
                const powerConsumption = dataGB * DATA_CENTER_EFFICIENCY;
                
                // 전기료 계산 (원)
                const electricBill = calculateElectricBill(powerConsumption);
                
                // 전기차 주행거리 환산 (km)
                const evDistance = (powerConsumption / EV_EFFICIENCY) * 100;
                
                return {
                    dataGB: dataGB,
                    powerConsumption: powerConsumption.toFixed(2),
                    electricBill: electricBill,
                    evDistance: evDistance.toFixed(1)
                };
            } catch (error) {
                console.error('데이터 사용량 계산 오류:', error);
                throw error;
            }
        
        // 데이터 사용량 계산기 이벤트 리스너
        const dataCalculatorForm = document.getElementById('data-usage-calculator-form');
        const dataCalculatorResults = document.getElementById('data-usage-results');
        const dataUsageSlider = document.getElementById('data-usage-slider');
        const dataUsageAmount = document.getElementById('data-usage-amount');
        
        // 슬라이더와 입력 필드 동기화
        if (dataUsageSlider && dataUsageAmount) {
            dataUsageSlider.addEventListener('input', function() {
                dataUsageAmount.value = this.value;
            });
            
            dataUsageAmount.addEventListener('input', function() {
                const value = Math.max(1, Math.min(1000, parseInt(this.value) || 1));
                dataUsageSlider.value = value;
                this.value = value;
            });
        }
        
        if (dataCalculatorForm && dataCalculatorResults) {
            dataCalculatorForm.addEventListener('submit', function(e) {
                e.preventDefault();
                
                try {
                    // 입력값 가져오기
                    const dataGB = parseFloat(document.getElementById('data-usage-amount').value);
                    
                    // 계산 수행
                    const result = calculateDataUsage(dataGB);
                    
                    // 결과 HTML 생성
                    dataCalculatorResults.innerHTML = `
                        <div class="alert alert-primary" role="alert">
                            <h4 class="alert-heading">
                                <i class="bi bi-check-circle-fill me-2"></i>데이터 사용량 계산 결과
                            </h4>
                            <hr>
                            <div class="row text-center">
                                <div class="col-md-3 mb-3">
                                    <div class="card border-primary">
                                        <div class="card-body">
                                            <i class="bi bi-phone-fill text-primary fs-1 mb-2"></i>
                                            <h5 class="card-title">데이터 사용량</h5>
                                            <p class="card-text fs-4 fw-bold text-primary">${result.dataGB} GB</p>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-3 mb-3">
                                    <div class="card border-warning">
                                        <div class="card-body">
                                            <i class="bi bi-lightning-fill text-warning fs-1 mb-2"></i>
                                            <h5 class="card-title">전력 소비량</h5>
                                            <p class="card-text fs-4 fw-bold text-warning">${result.powerConsumption} kWh</p>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-3 mb-3">
                                    <div class="card border-danger">
                                        <div class="card-body">
                                            <i class="bi bi-currency-dollar text-danger fs-1 mb-2"></i>
                                            <h5 class="card-title">월 전기료</h5>
                                            <p class="card-text fs-4 fw-bold text-danger">${result.electricBill.toLocaleString()} 원</p>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-3 mb-3">
                                    <div class="card border-success">
                                        <div class="card-body">
                                            <i class="bi bi-ev-front-fill text-success fs-1 mb-2"></i>
                                            <h5 class="card-title">전기차 주행거리</h5>
                                            <p class="card-text fs-4 fw-bold text-success">${result.evDistance} km</p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <hr>
                            <p class="mb-0 text-center">
                                <small class="text-muted">
                                    * 계산은 대략적인 추정치이며, 실제 값과 다륿 수 있습니다.<br>
                                    * 데이터센터 효율: 0.5kWh/GB, 전기차 효율: 15kWh/100km 기준
                                </small>
                            </p>
                        </div>
                    `;
                    
                    // 결과 영역으로 스크롤
                    dataCalculatorResults.scrollIntoView({ behavior: 'smooth', block: 'start' });
                    
                } catch (error) {
                    // 에러 처리
                    dataCalculatorResults.innerHTML = `
                        <div class="alert alert-danger" role="alert">
                            <h4 class="alert-heading">
                                <i class="bi bi-exclamation-triangle-fill me-2"></i>계산 오류
                            </h4>
                            <p class="mb-0">${error.message}</p>
                        </div>
                    `;
                }
            });
            }
            });
        </script>
        </body>
        </html>