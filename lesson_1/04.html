<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ì£¼ìš” ê¸°ì—…ë³„ ì‹œì¥ ì ìœ ìœ¨ ë° ê²½ìŸ í˜„í™©</title>
  <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.4.0/css/all.min.css">
  <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@300;400;500;700;900&display=swap" rel="stylesheet">
  <script src="https://unpkg.com/react@18/umd/react.development.js"></script>
  <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
  <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>
  <div id="root"></div>

  <script type="text/babel">
    const { useState, useEffect, useRef } = React;

    const CompanyMarketSlide = () => {
      const chartRef = useRef(null);
      const chartInstance = useRef(null);
      const [containerSize, setContainerSize] = useState({ width: 0, height: 0 });

      // ë°˜ì‘í˜• í¬ê¸° ê³„ì‚° í•¨ìˆ˜
      const calculateSize = () => {
        const screenWidth = window.innerWidth;
        const screenHeight = window.innerHeight;
        
        // 16:9 ë¹„ìœ¨ ìœ ì§€
        const aspectRatio = 16 / 9;
        let width, height;
        
        if (screenWidth / screenHeight > aspectRatio) {
          height = Math.min(screenHeight, 1080);
          width = height * aspectRatio;
        } else {
          width = Math.min(screenWidth, 1920);
          height = width / aspectRatio;
        }
        
        return { width, height };
      };

      useEffect(() => {
        const updateSize = () => {
          setContainerSize(calculateSize());
        };
        
        updateSize();
        window.addEventListener('resize', updateSize);
        return () => window.removeEventListener('resize', updateSize);
      }, []);

      useEffect(() => {
        if (chartRef.current && containerSize.width > 0) {
          // ê¸°ì¡´ ì°¨íŠ¸ ì¸ìŠ¤í„´ìŠ¤ ì œê±°
          if (chartInstance.current) {
            chartInstance.current.destroy();
          }

          const ctx = chartRef.current.getContext('2d');
          
          chartInstance.current = new Chart(ctx, {
            type: 'bar',
            data: {
              labels: ['í…ŒìŠ¬ë¼', 'ë¹„ì•¼ë””', 'í­ìŠ¤ë°”ê²', 'í˜„ëŒ€ê¸°ì•„', 'ìŠ¤í…”ë€í‹°ìŠ¤', 'ì œë„¤ëŸ´ëª¨í„°ìŠ¤', 'BMW', 'í† ìš”íƒ€'],
              datasets: [{
                label: '2023ë…„ ê¸€ë¡œë²Œ EV íŒë§¤ëŸ‰ (ë§Œ ëŒ€)',
                data: [180.9, 302.4, 77.1, 65.8, 48.2, 45.1, 38.4, 10.4],
                backgroundColor: [
                  '#8257e5',
                  '#a78bfa',
                  '#c4b5fd',
                  '#ddd6fe',
                  '#e9d5ff',
                  '#f3e8ff',
                  '#faf5ff',
                  '#fdfdfe'
                ],
                borderColor: '#8257e5',
                borderWidth: 1
              }]
            },
            options: {
              responsive: true,
              maintainAspectRatio: false,
              plugins: {
                legend: {
                  display: false
                },
                tooltip: {
                  backgroundColor: 'rgba(130, 87, 229, 0.9)',
                  titleColor: '#ffffff',
                  bodyColor: '#ffffff',
                  borderColor: '#8257e5',
                  borderWidth: 1,
                  callbacks: {
                    label: function(context) {
                      return context.dataset.label + ': ' + context.parsed.y + 'ë§Œ ëŒ€';
                    }
                  }
                }
              },
              scales: {
                y: {
                  beginAtZero: true,
                  grid: {
                    color: 'rgba(0, 0, 0, 0.1)'
                  },
                  ticks: {
                    font: {
                      size: Math.max(8, containerSize.width * 0.008)
                    },
                    callback: function(value) {
                      return value + 'ë§Œ';
                    }
                  }
                },
                x: {
                  grid: {
                    display: false
                  },
                  ticks: {
                    font: {
                      size: Math.max(8, containerSize.width * 0.008)
                    },
                    maxRotation: 45
                  }
                }
              }
            }
          });
        }

        return () => {
          if (chartInstance.current) {
            chartInstance.current.destroy();
          }
        };
      }, [containerSize]);

      const getFontSize = (baseSize) => {
        const scale = Math.min(containerSize.width / 1920, containerSize.height / 1080);
        return Math.max(baseSize * scale, 10);
      };

      const getSpacing = (baseSpacing) => {
        const scale = Math.min(containerSize.width / 1920, containerSize.height / 1080);
        return Math.max(baseSpacing * scale, 4);
      };

      const companies = [
        {
          name: 'ë¹„ì•¼ë”” (BYD)',
          country: 'ì¤‘êµ­',
          marketShare: '18.7%',
          sales: '302.4ë§Œ ëŒ€',
          logo: 'ğŸ”‹',
          advantages: ['ê¸°ìˆ ë ¥', 'ê°€ê²© ê²½ìŸë ¥'],
          badge: 'tech',
          description: 'ë°°í„°ë¦¬ ì œì¡° ê¸°ë°˜ì˜ ìˆ˜ì§ í†µí•© ì „ëµ'
        },
        {
          name: 'í…ŒìŠ¬ë¼ (Tesla)',
          country: 'ë¯¸êµ­',
          marketShare: '11.2%',
          sales: '180.9ë§Œ ëŒ€',
          logo: 'âš¡',
          advantages: ['ë¸Œëœë“œë ¥', 'ê¸°ìˆ  í˜ì‹ '],
          badge: 'tech',
          description: 'í”„ë¦¬ë¯¸ì—„ ì „ê¸°ì°¨ ì‹œì¥ ì„ ë„'
        },
        {
          name: 'í˜„ëŒ€ê¸°ì•„',
          country: 'í•œêµ­',
          marketShare: '4.1%',
          sales: '65.8ë§Œ ëŒ€',
          logo: 'ğŸš—',
          advantages: ['í’ˆì§ˆ', 'ë””ìì¸'],
          badge: 'price',
          description: 'ì „ ë¼ì¸ì—… ì „ë™í™” ì¶”ì§„'
        },
        {
          name: 'í­ìŠ¤ë°”ê²',
          country: 'ë…ì¼',
          marketShare: '4.8%',
          sales: '77.1ë§Œ ëŒ€',
          logo: 'ğŸ”§',
          advantages: ['ê¸°ìˆ ë ¥', 'ê·œëª¨ì˜ ê²½ì œ'],
          badge: 'scale',
          description: 'ID ì‹œë¦¬ì¦ˆë¡œ ëŒ€ì¤‘í™” ì „ëµ'
        }
      ];

      if (containerSize.width === 0) return <div>Loading...</div>;

      return (
        <div 
          className="slide bg-gradient-to-br from-gray-50 to-white overflow-hidden relative flex flex-col"
          style={{
            width: `${containerSize.width}px`,
            height: `${containerSize.height}px`,
            margin: '0 auto',
            aspectRatio: '16/9',
            padding: `${getSpacing(64)}px`
          }}
        >
          {/* í—¤ë” */}
          <div className="text-center mb-8" style={{ marginBottom: `${getSpacing(32)}px` }}>
            <h1 
              className="font-bold mb-2 bg-gradient-to-r from-purple-600 to-purple-400 bg-clip-text text-transparent"
              style={{ 
                fontSize: `${getFontSize(48)}px`,
                marginBottom: `${getSpacing(8)}px`
              }}
            >
              ì£¼ìš” ê¸°ì—…ë³„ ì‹œì¥ ì ìœ ìœ¨ ë° ê²½ìŸ í˜„í™©
            </h1>
            <p 
              className="text-gray-500"
              style={{ fontSize: `${getFontSize(20)}px` }}
            >
              2023ë…„ ê¸€ë¡œë²Œ ì „ê¸°ì°¨ ì‹œì¥ ë¦¬ë”ì‹­ ë¶„ì„
            </p>
          </div>
          
          {/* ë©”ì¸ ì½˜í…ì¸  */}
          <div className="flex-1 flex flex-col lg:flex-row gap-8" style={{ gap: `${getSpacing(32)}px` }}>
            {/* ì°¨íŠ¸ ì„¹ì…˜ */}
            <div className="w-full lg:w-3/5">
              <div 
                className="bg-white rounded-lg shadow-sm"
                style={{ 
                  padding: `${getSpacing(24)}px`,
                  height: `${Math.min(containerSize.height * 0.5, 400)}px`
                }}
              >
                <h3 
                  className="font-bold text-gray-800 mb-4 text-center"
                  style={{ 
                    fontSize: `${getFontSize(20)}px`,
                    marginBottom: `${getSpacing(16)}px`
                  }}
                >
                  2023ë…„ ê¸€ë¡œë²Œ EV íŒë§¤ëŸ‰ ìˆœìœ„
                </h3>
                <canvas ref={chartRef}></canvas>
              </div>
            </div>
            
            {/* ê¸°ì—… ì •ë³´ ì¹´ë“œ */}
            <div className="w-full lg:w-2/5 space-y-4" style={{ gap: `${getSpacing(16)}px` }}>
              {companies.map((company, index) => (
                <div 
                  key={company.name}
                  className="company-card bg-white rounded-lg shadow-sm"
                  style={{ padding: `${getSpacing(20)}px` }}
                >
                  <div className="flex items-center justify-between mb-2" style={{ marginBottom: `${getSpacing(8)}px` }}>
                    <div className="flex items-center">
                      <span 
                        className="text-2xl mr-3"
                        style={{ 
                          fontSize: `${getFontSize(24)}px`,
                          marginRight: `${getSpacing(12)}px`
                        }}
                      >
                        {company.logo}
                      </span>
                      <div>
                        <h4 
                          className="font-bold text-gray-800"
                          style={{ fontSize: `${getFontSize(16)}px` }}
                        >
                          {company.name}
                        </h4>
                        <p 
                          className="text-gray-500"
                          style={{ fontSize: `${getFontSize(12)}px` }}
                        >
                          {company.country}
                        </p>
                      </div>
                    </div>
                    <div className="text-right">
                      <div 
                        className="font-bold text-purple-700"
                        style={{ fontSize: `${getFontSize(18)}px` }}
                      >
                        {company.marketShare}
                      </div>
                      <div 
                        className="text-gray-600"
                        style={{ fontSize: `${getFontSize(12)}px` }}
                      >
                        {company.sales}
                      </div>
                    </div>
                  </div>
                  <p 
                    className="text-gray-600 mb-2"
                    style={{ 
                      fontSize: `${getFontSize(12)}px`,
                      marginBottom: `${getSpacing(8)}px`
                    }}
                  >
                    {company.description}
                  </p>
                  <div>
                    {company.advantages.map((advantage, i) => (
                      <span 
                        key={i}
                        className={`badge badge-${company.badge}`}
                        style={{ fontSize: `${getFontSize(10)}px` }}
                      >
                        {advantage}
                      </span>
                    ))}
                  </div>
                </div>
              ))}
            </div>
          </div>
          
          {/* í•˜ë‹¨ ì¸ì‚¬ì´íŠ¸ */}
          <div 
            className="mt-6 bg-purple-50 rounded-lg border-l-4 border-purple-500"
            style={{ 
              marginTop: `${getSpacing(24)}px`,
              padding: `${getSpacing(24)}px`
            }}
          >
            <div className="grid grid-cols-1 md:grid-cols-3 gap-6" style={{ gap: `${getSpacing(24)}px` }}>
              <div className="text-center">
                <div 
                  className="text-3xl font-bold text-purple-600 mb-2"
                  style={{ 
                    fontSize: `${getFontSize(28)}px`,
                    marginBottom: `${getSpacing(8)}px`
                  }}
                >
                  ä¸­ vs ç¾
                </div>
                <p 
                  className="text-gray-600"
                  style={{ fontSize: `${getFontSize(12)}px` }}
                >
                  ì¤‘êµ­ BYDì™€ ë¯¸êµ­ í…ŒìŠ¬ë¼ì˜ ì–‘ê°• êµ¬ë„
                </p>
              </div>
              <div className="text-center">
                <div 
                  className="text-3xl font-bold text-purple-600 mb-2"
                  style={{ 
                    fontSize: `${getFontSize(28)}px`,
                    marginBottom: `${getSpacing(8)}px`
                  }}
                >
                  30%
                </div>
                <p 
                  className="text-gray-600"
                  style={{ fontSize: `${getFontSize(12)}px` }}
                >
                  ìƒìœ„ 2ê°œ ê¸°ì—…ì˜ ì‹œì¥ ì ìœ ìœ¨
                </p>
              </div>
              <div className="text-center">
                <div 
                  className="text-3xl font-bold text-purple-600 mb-2"
                  style={{ 
                    fontSize: `${getFontSize(28)}px`,
                    marginBottom: `${getSpacing(8)}px`
                  }}
                >
                  4ìœ„
                </div>
                <p 
                  className="text-gray-600"
                  style={{ fontSize: `${getFontSize(12)}px` }}
                >
                  í˜„ëŒ€ê¸°ì•„ ê¸€ë¡œë²Œ EV ì‹œì¥ ìˆœìœ„
                </p>
              </div>
            </div>
          </div>
        </div>
      );
    };

    ReactDOM.render(<CompanyMarketSlide />, document.getElementById('root'));
  </script>

  <style>
    body, html {
      margin: 0;
      padding: 0;
      font-family: 'Noto Sans KR', sans-serif;
      background-color: #f5f5f5;
    }
    
    .company-card {
      background-color: white;
      box-shadow: 0 4px 6px rgba(0, 0, 0, 0.05);
      transition: transform 0.3s ease;
    }
    
    .company-card:hover {
      transform: translateY(-2px);
      box-shadow: 0 8px 15px rgba(0, 0, 0, 0.1);
    }
    
    .badge {
      display: inline-block;
      padding: 2px 8px;
      border-radius: 12px;
      margin-right: 4px;
      margin-bottom: 4px;
    }
    
    .badge-tech {
      background-color: rgba(167, 139, 250, 0.2);
      color: #6D28D9;
    }
    
    .badge-price {
      background-color: rgba(52, 211, 153, 0.2);
      color: #047857;
    }
    
    .badge-scale {
      background-color: rgba(59, 130, 246, 0.2);
      color: #1D4ED8;
    }
    
    @media (max-width: 1024px) {
      .lg\\:flex-row {
        flex-direction: column;
      }
      
      .lg\\:w-3\\/5, .lg\\:w-2\\/5 {
        width: 100%;
      }
    }
    
    @media (max-width: 768px) {
      .md\\:grid-cols-3 {
        grid-template-columns: 1fr;
      }
    }
  </style>
</body>
</html>
